from collections import defaultdict

class Solution:
    def countPairs(self, arr):
        n = len(arr)
        m = len(arr[0])
        pattern_count = defaultdict(int)
        total_pairs = 0

        for s in arr:
            for i in range(m):
                pattern = s[:i] + '*' + s[i+1:]
                
                total_pairs += pattern_count[pattern]
                
                pattern_count[pattern] += 1

        return total_pairs


